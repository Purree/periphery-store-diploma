import{_ as y,r as a,o as e,c as C,w as c,h as E,d8 as b,d as n,e as o,a4 as $,t as _,a as s,b as g,F as v,a6 as w,u as x,g as L,ae as R}from"./app-a44995be.js";import{p as q,a as A}from"./price-0faa232d.js";import{V as D}from"./ViewTitle-c8a84335.js";import{a as N}from"./orders-e86e9fe6.js";import{E as P}from"./el-card-d73c3319.js";import{I as V}from"./ItemImage-7e28fc3d.js";import{P as B}from"./ProductOpenLink-5db88c1a.js";import{S as I}from"./StyledRouterLink-17b363a0.js";import{O as T}from"./OrderStatusTag-fb82ec42.js";import"./el-tag-93898b7a.js";const F={name:"OrderOpenLink",components:{StyledRouterLink:I},props:{to:{required:!0,type:Object}}};function j(t,k,d,O,u,i){const l=a("styled-router-link");return e(),C(l,{to:d.to,underline:!1},{default:c(()=>[E(t.$slots,"default")]),_:3},8,["to"])}const G=y(F,[["render",j]]);const U={name:"OrderCard",components:{OrderStatusTag:T,OrderOpenLink:G,StyledRouterLink:I,ProductOpenLink:B,ItemImage:V},methods:{beautifyDate:b},mixins:[q],props:{createdAt:{required:!0,type:String},orderId:{required:!0,type:[Number,String]},totalCost:{required:!0,type:Number},status:{required:!0,type:String},items:{required:!0,type:Array}},computed:{products(){return this.items.map(t=>t.product).slice(0,4)},orderRoute:{get(){return this.$router.resolve({name:"Order",params:{id:this.orderId}})}}}},z={class:"order-header"},H={class:"left-header-part-container"},J={class:"order-price"},K={class:"items-container"},M={class:"order-products-container"};function Q(t,k,d,O,u,i){const l=a("order-open-link"),p=a("styled-router-link"),m=a("order-status-tag"),f=a("item-image"),r=a("product-open-link"),S=P;return e(),C(S,null,{header:c(()=>[n("div",z,[n("div",H,[o(l,{to:i.orderRoute,class:"order-created-text"},{default:c(()=>[$(_(t.$t("orders.orderDated"))+" "+_(i.beautifyDate(d.createdAt)),1)]),_:1},8,["to"]),o(p,{class:"order-link",to:i.orderRoute},{default:c(()=>[$(_(d.orderId),1)]),_:1},8,["to"])]),n("div",J,_(t.getCurrency(d.totalCost)),1)])]),default:c(()=>[n("div",K,[n("div",null,[n("div",null,_(t.$t("orders.status"))+": ",1),o(m,{class:"order-status",status:d.status},null,8,["status"])]),n("div",M,[(e(!0),s(v,null,g(i.products,h=>(e(),s("div",{key:h.slug},[o(r,{slug:h.slug},{default:c(()=>[o(f,{class:"order-product-image","image-url":h.previewImage},null,8,["image-url"])]),_:2},1032,["slug"])]))),128))])])]),_:1})}const W=y(U,[["render",Q],["__scopeId","data-v-7edc8a42"]]);const X={name:"Orders",components:{OrderCard:W,ViewTitle:D},mixins:[w,x],data(){return{pending:!1,orders:[]}},methods:{async loadOrders(){await this.useErrorsCatch(async()=>{this.orders=(await L(N)).data})}},mounted(){this.orders=this.usePending(this.loadOrders)}},Y={class:"cart-container"},Z={key:0},ee={key:0},te={key:1},re={key:1};function se(t,k,d,O,u,i){const l=a("view-title"),p=a("order-card"),m=R,f=A;return e(),s("div",null,[o(l,{text:t.$t("orders.orders")},null,8,["text"]),n("div",Y,[u.pending?(e(),s("div",re,[(e(),s(v,null,g(10,r=>n("div",{key:r},[o(f,{animated:""}),o(m)])),64))])):(e(),s("div",Z,[u.orders.length>0?(e(),s("div",ee,[(e(!0),s(v,null,g(u.orders,r=>(e(),s("div",{key:r.id},[o(p,{status:r.status,"total-cost":r.totalCost,"order-id":r.id,"created-at":r.createdAt,items:r.items},null,8,["status","total-cost","order-id","created-at","items"]),o(m)]))),128))])):(e(),s("div",te,_(t.$t("orders.noOrders")),1))]))])])}const pe=y(X,[["render",se],["__scopeId","data-v-0e11fb6e"]]);export{pe as default};
