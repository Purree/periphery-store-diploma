import{_ as u,r as i,o as r,a as o,e as m,d as f,t as a,n as g,c as v,f as l,v as y,L as C,k as w,i as b,x as k,y as I,R as T,w as $,E as x,an as R}from"./app-17bd0390.js";import{p as S}from"./price-38bf80ae.js";const q={name:"ProductRating",props:{rating:{required:!0,type:Number}},methods:{getRatingMark(){return this.rating>=4?"good":this.rating<4&&this.rating>2.5?"normal":"bad"}}};function B(e,s,t,_,c,n){const d=i("font-awesome-icon");return r(),o("div",{class:g(["rating-container",n.getRatingMark()+"-rating"])},[m(d,{class:"rating-icon",icon:"star"}),f("div",null,a(t.rating.toFixed(2)),1)],2)}const N=u(q,[["render",B],["__scopeId","data-v-e3643f43"]]);const E={name:"ProductReviewsCount",props:{reviewsCount:{type:[Number,void 0],required:!1}}},A={key:0,class:"reviews-count"},F={key:1,class:"reviews-count"};function V(e,s,t,_,c,n){return t.reviewsCount?(r(),o("div",F,a(e.$tc("general.reviews.reviewsCount",t.reviewsCount)),1)):(r(),o("div",A,a(e.$t("general.reviews.noReviews")),1))}const D=u(E,[["render",V],["__scopeId","data-v-eb2cb6c2"]]);const z={name:"ProductFeedback",components:{ProductReviewsCount:D,ProductRating:N},props:{rating:{required:!1,type:[Number,void 0]},reviewsCount:{required:!1,type:[Number,void 0]}}},L={key:0,class:"product-feedback"};function M(e,s,t,_,c,n){const d=i("product-rating"),p=i("product-reviews-count");return t.rating||t.reviewsCount?(r(),o("div",L,[t.rating?(r(),v(d,{key:0,rating:t.rating},null,8,["rating"])):l("",!0),t.reviewsCount?(r(),v(p,{key:1,"reviews-count":t.reviewsCount},null,8,["reviews-count"])):l("",!0)])):l("",!0)}const K=u(z,[["render",M],["__scopeId","data-v-d2aaba64"]]);const O={name:"AddToCartButton",mixins:[y,C],components:{FullWidthButton:w,FontAwesomeIcon:b},data(){return{pending:!1,addProductToCartTimeout:setTimeout(()=>{},1)}},props:{productSlug:{required:!0,type:String}},computed:{...k("cart",["cartItems"]),cartContainsProduct(){return this.cartItems.some(e=>e.product.slug===this.productSlug)},cartProductCount:{get(){return this.cartItems.find(e=>e.product.slug===this.productSlug).quantity},set(e){clearTimeout(this.addProductToCartTimeout),this.addProductToCartTimeout=setTimeout(()=>{this.usePending(this.addProductToCart,"pending",e)},500)}}},methods:{...I("cart",["changeProductInCartQuantity"]),async addProductToCart(e=1){this.checkIsUserHasPermission(T.buy_products)?await this.changeProductInCartQuantity({productSlug:this.productSlug,quantity:e}):this.$router.push({name:"Login"})}}},Q={key:1};function U(e,s,t,_,c,n){const d=i("font-awesome-icon"),p=i("full-width-button"),P=i("el-input-number");return n.cartContainsProduct?(r(),o("div",Q,[m(P,{min:0,disabled:c.pending,modelValue:n.cartProductCount,"onUpdate:modelValue":s[1]||(s[1]=h=>n.cartProductCount=h),class:"fullwidth-button"},null,8,["disabled","modelValue"])])):(r(),v(p,x({key:0,pending:c.pending,onClick:s[0]||(s[0]=h=>e.usePending(n.addProductToCart)),type:"primary"},e.$attrs),{default:$(()=>[m(d,{icon:"cart-shopping",class:"cart-icon"}),f("div",null,a(e.$t("general.addToCart")),1)]),_:1},16,["pending"]))}const X=u(O,[["render",U],["__scopeId","data-v-ec9a6cc9"]]);const H={name:"ProductPrice",mixins:[S],props:{price:{type:Number,required:!0},discountedPrice:{type:[Number,void 0],required:!1},isPriceSizeOverwritten:{type:[Boolean,void 0],required:!1}},methods:{checkIsDiscountExists(){return R(this.price,this.discountedPrice)}}},W={key:0,class:"price"};function j(e,s,t,_,c,n){return r(),o("div",{class:g(["price-container",{"price-variables":!t.isPriceSizeOverwritten}])},[n.checkIsDiscountExists()?(r(),o("div",W,a(e.getCurrency(t.discountedPrice)),1)):l("",!0),f("div",{class:g(n.checkIsDiscountExists()?"old-price":"price")},a(e.getCurrency(t.price)),3)],2)}const Y=u(H,[["render",j],["__scopeId","data-v-dffb8679"]]);export{X as A,K as P,Y as a,N as b};
