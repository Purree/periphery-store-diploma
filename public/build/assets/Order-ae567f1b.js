import{_,B as v,o as i,a as d,d as r,e as t,r as n,F as g,b as y,w as x,p as O,t as f,q,u as N,ak as D,g as I,v as S,c as C}from"./app-fd2cb743.js";import{b as B}from"./orders-7ec98f9a.js";import{U as R}from"./UnderHeaderTitle-f54a297e.js";import{p as $}from"./price-38bf80ae.js";import{O as w}from"./OrderStatusTag-52b92120.js";import{g as E}from"./name-4e882a16.js";import{P}from"./ProductCard-aaeb5caf.js";import"./ViewTitle-0a2f8717.js";import"./ProductPrice-d18bf965.js";import"./ProductOpenLink-2847e1ad.js";import"./StyledRouterLink-62120ab1.js";import"./ItemImage-276b9ddc.js";const T={name:"RecipientData",components:{OrderStatusTag:w,BasedText:v},mixins:[$],props:{address:{required:!0,type:String},mobile:{required:!0,type:String},email:{required:!0,type:String},fullName:{required:!0,type:String},totalCost:{required:!0,type:Number},orderStatus:{required:!0,type:String}}},F={class:"card"},U={class:"recipient-data-container"},V={class:"recipient-data-header"},A={class:"personal-recipient-data-container"},L={class:"recipient-data-header"},j={class:"recipient-data-text"},G={class:"recipient-data-text"},H={class:"recipient-data-text"};function M(s,p,o,m,e,c){const a=n("based-text"),l=n("order-status-tag");return i(),d("div",F,[r("div",U,[r("div",null,[r("div",V,[t(a,{title:s.$t("profile.contactInformation.addresses.address"),class:"recipient-data-header-text"},null,8,["title"])]),r("div",null,[t(a,{class:"recipient-data-text",title:o.address},null,8,["title"])])]),r("div",A,[r("div",L,[t(a,{title:s.$t("profile.titles.personalInformation"),class:"recipient-data-header-text"},null,8,["title"])]),r("div",null,[r("div",j,[t(a,{class:"recipient-data-text",title:o.fullName},null,8,["title"])]),r("div",G,[t(a,{class:"recipient-data-text",title:o.email},null,8,["title"])]),r("div",H,[t(a,{class:"recipient-data-text",title:o.mobile},null,8,["title"])])])]),r("div",null,[t(l,{class:"order-status-tag",status:o.orderStatus},null,8,["status"])]),r("div",null,[r("div",null,[t(a,{class:"recipient-data-header-text",title:s.$t("general.total")+": "+s.getCurrency(o.totalCost)},null,8,["title"])])])])])}const z=_(T,[["render",M],["__scopeId","data-v-6c9ba3e8"]]),J={name:"OrderItemsData",components:{ProductCard:P},props:{items:{required:!0,type:Object}},computed:{products(){return this.items.map(s=>({...s.product,...s}))}}},K={class:"card"};function Q(s,p,o,m,e,c){const a=n("product-card"),l=n("el-divider");return i(),d("div",K,[(i(!0),d(g,null,y(c.products,u=>(i(),d("div",{key:u.slug},[t(a,{product:u,"is-show-add-to-cart-button":!0},{additionalButtons:x(()=>[O(f(s.$t("orders.quantity"))+": "+f(u.quantity),1)]),_:2},1032,["product"]),t(l)]))),128))])}const W=_(J,[["render",Q]]);const X={name:"Order",mixins:[q,N],methods:{generateFullName:E,beautifyDate:D,async loadOrder(){await this.useErrorsCatch(async()=>{this.order=(await I(B,{id:this.orderId})).data},async()=>{await this.$router.push({name:"Orders"})})}},components:{OrderItemsData:W,RecipientData:z,UnderHeaderTitle:R,BasedText:v},data(){return{pending:!1,order:{},orderId:0}},computed:{...S("auth",["user"])},beforeMount(){this.orderId=this.$route.params.id,this.usePending(this.loadOrder)}},Y={class:"order-container"},Z={key:1,class:"card recipient-data"},ee={key:2,class:"order-items-data"},te={key:3,class:"card order-items-data"};function re(s,p,o,m,e,c){const a=n("based-text"),l=n("under-header-title"),u=n("recipient-data"),h=n("el-skeleton"),b=n("order-items-data");return i(),d("div",Y,[t(l,{text:s.$t("orders.order")+" â„–"+e.order.id,pending:e.pending},{default:x(()=>[r("div",null,[t(a,{title:s.$t("orders.orderDated")+" "+c.beautifyDate(e.order.createdAt)},null,8,["title"])])]),_:1},8,["text","pending"]),e.pending?(i(),d("div",Z,[t(h,{animated:""})])):(i(),C(u,{key:0,class:"recipient-data",address:e.order.address,email:this.user.email,"full-name":c.generateFullName(e.order.name.firstName,e.order.name.middleName,e.order.name.lastName),mobile:e.order.mobile,"total-cost":e.order.totalCost,"order-status":e.order.status},null,8,["address","email","full-name","mobile","total-cost","order-status"])),e.pending?(i(),d("div",te,[(i(),d(g,null,y(20,k=>t(h,{key:k,animated:""})),64))])):(i(),d("div",ee,[t(b,{items:e.order.items},null,8,["items"])]))])}const he=_(X,[["render",re],["__scopeId","data-v-c5cc05d0"]]);export{he as default};
