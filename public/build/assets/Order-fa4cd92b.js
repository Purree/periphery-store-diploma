import{_,B as v,o as i,a as d,d as r,e as t,r as n,F as g,b as y,w as x,q as k,t as f,v as q,u as D,a9 as N,am as I,g as S,x as C,c as B}from"./app-17bd0390.js";import{b as R}from"./orders-c1a27c0d.js";import{U as $}from"./UnderHeaderTitle-9ed0fad6.js";import{p as w}from"./price-38bf80ae.js";import{O as T}from"./OrderStatusTag-d5484b14.js";import{g as E}from"./name-4e882a16.js";import{P}from"./ProductCard-fa56d5c9.js";import"./ViewTitle-e3c51f57.js";import"./ProductPrice-43b98446.js";import"./ProductOpenLink-c49b0aa1.js";import"./StyledRouterLink-5a3a7315.js";import"./ItemImage-a88dd7c6.js";const F={name:"RecipientData",components:{OrderStatusTag:T,BasedText:v},mixins:[w],props:{address:{required:!0,type:String},mobile:{required:!0,type:String},email:{required:!0,type:String},fullName:{required:!0,type:String},totalCost:{required:!0,type:Number},orderStatus:{required:!0,type:String}}},U={class:"card"},V={class:"recipient-data-container"},A={class:"recipient-data-header"},L={class:"personal-recipient-data-container"},j={class:"recipient-data-header"},G={class:"recipient-data-text"},H={class:"recipient-data-text"},M={class:"recipient-data-text"};function z(s,m,o,p,e,c){const a=n("based-text"),l=n("order-status-tag");return i(),d("div",U,[r("div",V,[r("div",null,[r("div",A,[t(a,{title:s.$t("profile.contactInformation.addresses.address"),class:"recipient-data-header-text"},null,8,["title"])]),r("div",null,[t(a,{class:"recipient-data-text",title:o.address},null,8,["title"])])]),r("div",L,[r("div",j,[t(a,{title:s.$t("profile.titles.personalInformation"),class:"recipient-data-header-text"},null,8,["title"])]),r("div",null,[r("div",G,[t(a,{class:"recipient-data-text",title:o.fullName},null,8,["title"])]),r("div",H,[t(a,{class:"recipient-data-text",title:o.email},null,8,["title"])]),r("div",M,[t(a,{class:"recipient-data-text",title:o.mobile},null,8,["title"])])])]),r("div",null,[t(l,{class:"order-status-tag",status:o.orderStatus},null,8,["status"])]),r("div",null,[r("div",null,[t(a,{class:"recipient-data-header-text",title:s.$t("general.total")+": "+s.getCurrency(o.totalCost)},null,8,["title"])])])])])}const J=_(F,[["render",z],["__scopeId","data-v-6c9ba3e8"]]),K={name:"OrderItemsData",components:{ProductCard:P},props:{items:{required:!0,type:Object}},computed:{products(){return this.items.map(s=>({...s.product,...s}))}}},Q={class:"card"};function W(s,m,o,p,e,c){const a=n("product-card"),l=n("el-divider");return i(),d("div",Q,[(i(!0),d(g,null,y(c.products,u=>(i(),d("div",{key:u.slug},[t(a,{product:u,"is-show-add-to-cart-button":!0},{additionalButtons:x(()=>[k(f(s.$t("orders.quantity"))+": "+f(u.quantity),1)]),_:2},1032,["product"]),t(l)]))),128))])}const X=_(K,[["render",W]]);const Y={name:"Order",mixins:[q,D,N],methods:{generateFullName:E,beautifyDate:I,async loadOrder(){await this.useErrorsCatch(async()=>{this.order=(await S(R,{id:this.orderId})).data,this.updateDocumentTitle("titles.order",{order:this.order.id})},async()=>{await this.$router.push({name:"Orders"})})}},components:{OrderItemsData:X,RecipientData:J,UnderHeaderTitle:$,BasedText:v},data(){return{pending:!1,order:{},orderId:0}},computed:{...C("auth",["user"])},beforeMount(){this.orderId=this.$route.params.id,this.usePending(this.loadOrder)}},Z={class:"order-container"},ee={key:1,class:"card recipient-data"},te={key:2,class:"order-items-data"},re={key:3,class:"card order-items-data"};function se(s,m,o,p,e,c){const a=n("based-text"),l=n("under-header-title"),u=n("recipient-data"),h=n("el-skeleton"),b=n("order-items-data");return i(),d("div",Z,[t(l,{text:s.$t("orders.order")+" â„–"+e.order.id,pending:e.pending},{default:x(()=>[r("div",null,[t(a,{title:s.$t("orders.orderDated")+" "+c.beautifyDate(e.order.createdAt)},null,8,["title"])])]),_:1},8,["text","pending"]),e.pending?(i(),d("div",ee,[t(h,{animated:""})])):(i(),B(u,{key:0,class:"recipient-data",address:e.order.address,email:this.user.email,"full-name":c.generateFullName(e.order.name.firstName,e.order.name.middleName,e.order.name.lastName),mobile:e.order.mobile,"total-cost":e.order.totalCost,"order-status":e.order.status},null,8,["address","email","full-name","mobile","total-cost","order-status"])),e.pending?(i(),d("div",re,[(i(),d(g,null,y(20,O=>t(h,{key:O,animated:""})),64))])):(i(),d("div",te,[t(b,{items:e.order.items},null,8,["items"])]))])}const fe=_(Y,[["render",se],["__scopeId","data-v-bdf95dd0"]]);export{fe as default};
