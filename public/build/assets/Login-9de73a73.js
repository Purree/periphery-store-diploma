import{_ as h,a6 as _,bq as c,a0 as f,g as w,bG as b,a2 as V,a as y,e as a,w as n,F as D,r as i,o as z,a4 as s,t as l}from"./app-a44995be.js";import{E}from"./el-checkbox-5bbe208d.js";import{I}from"./InputRow-52e683e3.js";import{E as L}from"./index-8eb88add.js";import"./isEqual-e6c06f96.js";const P={name:"Login",mixins:[_],components:{ErrorsAlert:c,FullWidthButton:f,InputRow:I},data(){return{loginPending:!1,loginData:{email:"",password:"",remember:!1},errors:{}}},methods:{async login(){var e;try{await w(b,{},this.loginData),await this.$store.dispatch("auth/changeStatusToLoggedIn"),L.success(this.$t("authorization.successfullyLoggedIn")),this.$router.push(((e=this.$route.query)==null?void 0:e.redirect)??{name:"Home"})}catch(o){this.errors=V(o)}}}};function $(e,o,k,v,t,m){const p=i("errors-alert"),u=i("input-row"),d=E,g=i("full-width-button");return z(),y(D,null,[a(p,{errors:t.errors},null,8,["errors"]),a(u,{modelValue:t.loginData.email,"onUpdate:modelValue":o[0]||(o[0]=r=>t.loginData.email=r),placeholder:e.$t("authorization.email"),type:"email"},{default:n(()=>[s(l(e.$t("authorization.email")),1)]),_:1},8,["modelValue","placeholder"]),a(u,{modelValue:t.loginData.password,"onUpdate:modelValue":o[1]||(o[1]=r=>t.loginData.password=r),"show-password":"",placeholder:e.$t("authorization.password")},{default:n(()=>[s(l(e.$t("authorization.password")),1)]),_:1},8,["modelValue","placeholder"]),a(d,{modelValue:t.loginData.remember,"onUpdate:modelValue":o[2]||(o[2]=r=>t.loginData.remember=r)},{default:n(()=>[s(l(e.$t("authorization.rememberMe")),1)]),_:1},8,["modelValue"]),a(g,{pending:t.loginPending,type:"primary",onClick:o[3]||(o[3]=r=>e.usePending(m.login,"loginPending")),class:"fullwidth-button"},{default:n(()=>[s(l(e.$t("authorization.login")),1)]),_:1},8,["pending"])],64)}const B=h(P,[["render",$],["__scopeId","data-v-e4ef425e"]]);export{B as default};
