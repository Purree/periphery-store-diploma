import{_,B as v,o as i,a as d,d as r,e as t,r as n,F as g,b as y,w as b,a4 as O,t as f,ae as k,a6 as N,u as S,bF as q,d8 as I,g as C,a7 as B,c as E}from"./app-a44995be.js";import{p as R,a as $}from"./price-0faa232d.js";import{b as w}from"./orders-e86e9fe6.js";import{U as T}from"./UnderHeaderTitle-d82c5403.js";import{O as F}from"./OrderStatusTag-fb82ec42.js";import{g as P}from"./name-4e882a16.js";import{P as U}from"./ProductCard-e8641878.js";import"./ViewTitle-c8a84335.js";import"./el-tag-93898b7a.js";import"./ProductPrice-83dfc561.js";import"./el-input-number-3e92875f.js";import"./ProductOpenLink-5db88c1a.js";import"./StyledRouterLink-17b363a0.js";import"./ItemImage-7e28fc3d.js";const V={name:"RecipientData",components:{OrderStatusTag:F,BasedText:v},mixins:[R],props:{address:{required:!0,type:String},mobile:{required:!0,type:String},email:{required:!0,type:String},fullName:{required:!0,type:String},totalCost:{required:!0,type:Number},orderStatus:{required:!0,type:String}}},A={class:"card"},L={class:"recipient-data-container"},j={class:"recipient-data-header"},G={class:"personal-recipient-data-container"},H={class:"recipient-data-header"},M={class:"recipient-data-text"},z={class:"recipient-data-text"},J={class:"recipient-data-text"};function K(s,p,o,m,e,c){const a=n("based-text"),l=n("order-status-tag");return i(),d("div",A,[r("div",L,[r("div",null,[r("div",j,[t(a,{title:s.$t("profile.contactInformation.addresses.address"),class:"recipient-data-header-text"},null,8,["title"])]),r("div",null,[t(a,{class:"recipient-data-text",title:o.address},null,8,["title"])])]),r("div",G,[r("div",H,[t(a,{title:s.$t("profile.titles.personalInformation"),class:"recipient-data-header-text"},null,8,["title"])]),r("div",null,[r("div",M,[t(a,{class:"recipient-data-text",title:o.fullName},null,8,["title"])]),r("div",z,[t(a,{class:"recipient-data-text",title:o.email},null,8,["title"])]),r("div",J,[t(a,{class:"recipient-data-text",title:o.mobile},null,8,["title"])])])]),r("div",null,[t(l,{class:"order-status-tag",status:o.orderStatus},null,8,["status"])]),r("div",null,[r("div",null,[t(a,{class:"recipient-data-header-text",title:s.$t("general.total")+": "+s.getCurrency(o.totalCost)},null,8,["title"])])])])])}const Q=_(V,[["render",K],["__scopeId","data-v-6c9ba3e8"]]),W={name:"OrderItemsData",components:{ProductCard:U},props:{items:{required:!0,type:Object}},computed:{products(){return this.items.map(s=>({...s.product,...s}))}}},X={class:"card"};function Y(s,p,o,m,e,c){const a=n("product-card"),l=k;return i(),d("div",X,[(i(!0),d(g,null,y(c.products,u=>(i(),d("div",{key:u.slug},[t(a,{product:u,"is-show-add-to-cart-button":!0},{additionalButtons:b(()=>[O(f(s.$t("orders.quantity"))+": "+f(u.quantity),1)]),_:2},1032,["product"]),t(l)]))),128))])}const Z=_(W,[["render",Y]]);const ee={name:"Order",mixins:[N,S,q],methods:{generateFullName:P,beautifyDate:I,async loadOrder(){await this.useErrorsCatch(async()=>{this.order=(await C(w,{id:this.orderId})).data,this.updateDocumentTitle("titles.order",{order:this.order.id})},async()=>{await this.$router.push({name:"Orders"})})}},components:{OrderItemsData:Z,RecipientData:Q,UnderHeaderTitle:T,BasedText:v},data(){return{pending:!1,order:{},orderId:0}},computed:{...B("auth",["user"])},beforeMount(){this.orderId=this.$route.params.id,this.usePending(this.loadOrder)}},te={class:"order-container"},re={key:1,class:"card recipient-data"},se={key:2,class:"order-items-data"},ae={key:3,class:"card order-items-data"};function ie(s,p,o,m,e,c){const a=n("based-text"),l=n("under-header-title"),u=n("recipient-data"),h=$,x=n("order-items-data");return i(),d("div",te,[t(l,{text:s.$t("orders.order")+" â„–"+e.order.id,pending:e.pending},{default:b(()=>[r("div",null,[t(a,{title:s.$t("orders.orderDated")+" "+c.beautifyDate(e.order.createdAt)},null,8,["title"])])]),_:1},8,["text","pending"]),e.pending?(i(),d("div",re,[t(h,{animated:""})])):(i(),E(u,{key:0,class:"recipient-data",address:e.order.address,email:this.user.email,"full-name":c.generateFullName(e.order.name.firstName,e.order.name.middleName,e.order.name.lastName),mobile:e.order.mobile,"total-cost":e.order.totalCost,"order-status":e.order.status},null,8,["address","email","full-name","mobile","total-cost","order-status"])),e.pending?(i(),d("div",ae,[(i(),d(g,null,y(20,D=>t(h,{key:D,animated:""})),64))])):(i(),d("div",se,[t(x,{items:e.order.items},null,8,["items"])]))])}const be=_(ee,[["render",ie],["__scopeId","data-v-bdf95dd0"]]);export{be as default};
