import{_ as h,v as _,V as c,k as f,g as w,aa as V,N as y,m as b,a as D,e as r,w as n,F as z,r as s,o as I,q as l,t as i}from"./app-6f813f8d.js";import{I as L}from"./InputRow-deb33682.js";const k={name:"Login",mixins:[_],components:{ErrorsAlert:c,FullWidthButton:f,InputRow:L},data(){return{loginPending:!1,loginData:{email:"",password:"",remember:!1},errors:{}}},methods:{async login(){var e;try{await w(V,{},this.loginData),await this.$store.dispatch("auth/changeStatusToLoggedIn"),y.success(this.$t("authorization.successfullyLoggedIn")),this.$router.push(((e=this.$route.query)==null?void 0:e.redirect)??{name:"Home"})}catch(o){this.errors=b(o)}}}};function v(e,o,P,$,t,d){const m=s("errors-alert"),u=s("input-row"),p=s("el-checkbox"),g=s("full-width-button");return I(),D(z,null,[r(m,{errors:t.errors},null,8,["errors"]),r(u,{modelValue:t.loginData.email,"onUpdate:modelValue":o[0]||(o[0]=a=>t.loginData.email=a),placeholder:e.$t("authorization.email"),type:"email"},{default:n(()=>[l(i(e.$t("authorization.email")),1)]),_:1},8,["modelValue","placeholder"]),r(u,{modelValue:t.loginData.password,"onUpdate:modelValue":o[1]||(o[1]=a=>t.loginData.password=a),"show-password":"",placeholder:e.$t("authorization.password")},{default:n(()=>[l(i(e.$t("authorization.password")),1)]),_:1},8,["modelValue","placeholder"]),r(p,{modelValue:t.loginData.remember,"onUpdate:modelValue":o[2]||(o[2]=a=>t.loginData.remember=a)},{default:n(()=>[l(i(e.$t("authorization.rememberMe")),1)]),_:1},8,["modelValue"]),r(g,{pending:t.loginPending,type:"primary",onClick:o[3]||(o[3]=a=>e.usePending(d.login,"loginPending")),class:"fullwidth-button"},{default:n(()=>[l(i(e.$t("authorization.login")),1)]),_:1},8,["pending"])],64)}const N=h(k,[["render",v],["__scopeId","data-v-e4ef425e"]]);export{N as default};
