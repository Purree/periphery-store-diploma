import{_ as u,r as d,o as r,a as o,e as m,d as v,t as i,n as g,c as f,f as l,a6 as y,b2 as C,a0 as w,i as b,a7 as k,ac as I,b6 as T,w as $,aJ as x,d9 as N}from"./app-a44995be.js";import{E as S}from"./el-input-number-3e92875f.js";import{p as q}from"./price-0faa232d.js";const B={name:"ProductRating",props:{rating:{required:!0,type:Number}},methods:{getRatingMark(){return this.rating>=4?"good":this.rating<4&&this.rating>2.5?"normal":"bad"}}};function R(e,s,t,_,c,n){const a=d("font-awesome-icon");return r(),o("div",{class:g(["rating-container",n.getRatingMark()+"-rating"])},[m(a,{class:"rating-icon",icon:"star"}),v("div",null,i(t.rating.toFixed(2)),1)],2)}const E=u(B,[["render",R],["__scopeId","data-v-e3643f43"]]);const A={name:"ProductReviewsCount",props:{reviewsCount:{type:[Number,void 0],required:!1}}},F={key:0,class:"reviews-count"},V={key:1,class:"reviews-count"};function D(e,s,t,_,c,n){return t.reviewsCount?(r(),o("div",V,i(e.$tc("general.reviews.reviewsCount",t.reviewsCount)),1)):(r(),o("div",F,i(e.$t("general.reviews.noReviews")),1))}const z=u(A,[["render",D],["__scopeId","data-v-eb2cb6c2"]]);const M={name:"ProductFeedback",components:{ProductReviewsCount:z,ProductRating:E},props:{rating:{required:!1,type:[Number,void 0]},reviewsCount:{required:!1,type:[Number,void 0]}}},O={key:0,class:"product-feedback"};function Q(e,s,t,_,c,n){const a=d("product-rating"),p=d("product-reviews-count");return t.rating||t.reviewsCount?(r(),o("div",O,[t.rating?(r(),f(a,{key:0,rating:t.rating},null,8,["rating"])):l("",!0),t.reviewsCount?(r(),f(p,{key:1,"reviews-count":t.reviewsCount},null,8,["reviews-count"])):l("",!0)])):l("",!0)}const Y=u(M,[["render",Q],["__scopeId","data-v-d2aaba64"]]);const U={name:"AddToCartButton",mixins:[y,C],components:{FullWidthButton:w,FontAwesomeIcon:b},data(){return{pending:!1,addProductToCartTimeout:setTimeout(()=>{},1)}},props:{productSlug:{required:!0,type:String}},computed:{...k("cart",["cartItems"]),cartContainsProduct(){return this.cartItems.some(e=>e.product.slug===this.productSlug)},cartProductCount:{get(){return this.cartItems.find(e=>e.product.slug===this.productSlug).quantity},set(e){clearTimeout(this.addProductToCartTimeout),this.addProductToCartTimeout=setTimeout(()=>{this.usePending(this.addProductToCart,"pending",e)},500)}}},methods:{...I("cart",["changeProductInCartQuantity"]),async addProductToCart(e=1){this.checkIsUserHasPermission(T.buy_products)?await this.changeProductInCartQuantity({productSlug:this.productSlug,quantity:e}):this.$router.push({name:"Login"})}}},H={key:1};function J(e,s,t,_,c,n){const a=d("font-awesome-icon"),p=d("full-width-button"),P=S;return n.cartContainsProduct?(r(),o("div",H,[m(P,{min:0,disabled:c.pending,modelValue:n.cartProductCount,"onUpdate:modelValue":s[1]||(s[1]=h=>n.cartProductCount=h),class:"fullwidth-button"},null,8,["disabled","modelValue"])])):(r(),f(p,x({key:0,pending:c.pending,onClick:s[0]||(s[0]=h=>e.usePending(n.addProductToCart)),type:"primary"},e.$attrs),{default:$(()=>[m(a,{icon:"cart-shopping",class:"cart-icon"}),v("div",null,i(e.$t("general.addToCart")),1)]),_:1},16,["pending"]))}const Z=u(U,[["render",J],["__scopeId","data-v-ec9a6cc9"]]);const L={name:"ProductPrice",mixins:[q],props:{price:{type:Number,required:!0},discountedPrice:{type:[Number,void 0],required:!1},isPriceSizeOverwritten:{type:[Boolean,void 0],required:!1}},methods:{checkIsDiscountExists(){return N(this.price,this.discountedPrice)}}},W={key:0,class:"price"};function j(e,s,t,_,c,n){return r(),o("div",{class:g(["price-container",{"price-variables":!t.isPriceSizeOverwritten}])},[n.checkIsDiscountExists()?(r(),o("div",W,i(e.getCurrency(t.discountedPrice)),1)):l("",!0),v("div",{class:g(n.checkIsDiscountExists()?"old-price":"price")},i(e.getCurrency(t.price)),3)],2)}const ee=u(L,[["render",j],["__scopeId","data-v-dffb8679"]]);export{Z as A,Y as P,ee as a,E as b};
